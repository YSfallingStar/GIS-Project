{"mappings":"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","sources":["src/js/drawfeature.js"],"sourcesContent":["const typeSelect = document.getElementById('type'); // type 지정 전역함수\r\nconst showSegments = document.getElementById('segments'); // checkbox 지정 전역함수\r\nconst clearPrevious = document.getElementById('clear'); // clear(지우기) 지정 전역함수\r\n\r\nlet tipPoint;\r\n\r\nmap.addInteraction(modify);\r\n\r\nlet draw; //도형그리기 전역함수\r\n\r\nfunction addInteraction() {\r\n  let drawType = typeSelect.value;\r\n  let activeTip =\r\n    'Click to continue drawing the ' ;\r\n  let idleTip = 'Click to start measuring';\r\n  let tip = idleTip;\r\n  draw = new ol.interaction.Draw({\r\n    source: source,\r\n    type: drawType,\r\n    style: function (feature) {\r\n      return styleFunction(feature, showSegments.checked, drawType, tip);\r\n    },\r\n  });\r\n  \r\n  draw.on('drawstart', function () {\r\n    if (clearPrevious.checked) {\r\n      source.clear();\r\n    }\r\n    modify.setActive(false);\r\n    tip = activeTip;\r\n  });\r\n\r\n  draw.on('drawend', function () {\r\n    modifyStyle.setGeometry(tipPoint);\r\n    modify.setActive(true);\r\n    map.once('pointermove', function () {\r\n      modifyStyle.setGeometry();\r\n    });\r\n    tip = idleTip;\r\n  });\r\n\r\n  modify.setActive(true);\r\n  map.addInteraction(draw);\r\n}\r\n\r\nfunction addInteraction() {\r\n  let value = typeSelect.value;\r\n  \r\n  //원 //논이 아니다\r\n  if (value !== 'None') {\r\n    let geometryFunction;\r\n    \r\n//네모\r\n    if (value === 'Square') {\r\n      value = 'Circle';\r\n      geometryFunction = ol.interaction.Draw.createRegularPolygon(4);\r\n     \r\n//직사\r\n    } else if (value === 'Box') {\r\n      value = 'Circle';\r\n      geometryFunction = ol.interaction.Draw.createBox();\r\n\r\n//----------------------별\r\n    } else if (value === 'Star') {\r\n      value = 'Circle';\r\n      \r\n      geometryFunction = function (coordinates, geometry) {\r\n        const center = coordinates[0];\r\n        const last = coordinates[coordinates.length - 1];\r\n        const dx = center[0] - last[0];\r\n        const dy = center[1] - last[1];\r\n        const radius = Math.sqrt(dx * dx + dy * dy);\r\n        const rotation = Math.atan2(dy, dx);\r\n        const newCoordinates = [];\r\n        const numPoints = 10;\r\n        for (let i = 0; i < numPoints; ++i) {\r\n          const angle = rotation + (i * 2 * Math.PI) / numPoints;\r\n          const fraction = i % 2 === 0 ? 1 : 0.5;\r\n          const offsetX = radius * fraction * Math.cos(angle);\r\n          const offsetY = radius * fraction * Math.sin(angle);\r\n          newCoordinates.push([center[0] + offsetX, center[1] + offsetY]);\r\n        }\r\n        newCoordinates.push(newCoordinates[0].slice());\r\n        if (!geometry) {\r\n          geometry = new ol.geom.Polygon([newCoordinates]);\r\n        } else {\r\n          geometry.setCoordinates([newCoordinates]);\r\n        }\r\n        return geometry;\r\n      };\r\n    }//-------------------------------\r\n    let activeTip =\r\n      'Click to continue drawing the ' +\r\n      (value === 'Polygon' ? 'polygon' : 'line');\r\n    let idleTip = 'Click to start measuring';\r\n    let tip = idleTip;\r\n      draw = new ol.interaction.Draw({\r\n      source: source,\r\n      type: value,\r\n      geometryFunction: geometryFunction,\r\n      style: function (feature) {\r\n      return styleFunction(feature, showSegments.checked, value, tip);\r\n    },\r\n      });\r\n    draw.on('drawstart', function () {\r\n    if (clearPrevious.checked) {\r\n      source.clear();\r\n    }\r\n    modify.setActive(false);\r\n    tip = activeTip;\r\n  });\r\n\r\n  draw.on('drawend', function () {\r\n    modifyStyle.setGeometry(tipPoint);\r\n    modify.setActive(true);\r\n    map.once('pointermove', function () {\r\n      modifyStyle.setGeometry();\r\n    });\r\n    tip = idleTip;\r\n  });\r\n    map.addInteraction(draw);\r\n  }\r\n}\r\n\r\n/**\r\n * Handle change event.\r\n */\r\ntypeSelect.onchange = function () {\r\n  map.removeInteraction(draw);\r\n  addInteraction();\r\n};\r\n\r\naddInteraction();\r\n\r\ndocument.getElementById('undo').addEventListener('click', function () {\r\n  draw.removeLastPoint();\r\n});\r\n\r\nshowSegments.onchange = function () {\r\n  vector.changed();\r\n  draw.getOverlay().changed();\r\n};"],"names":[],"version":3,"file":"index.22c02b28.js.map","sourceRoot":"/__parcel_source_root/"}